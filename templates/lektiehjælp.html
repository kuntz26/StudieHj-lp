{% extends "layout.html" %}

{% block title %}Lektiehjælpsforum{% endblock %}

{% block body %}
    <h1>Lektiehjælpsforum</h1>

    <!-- Search and filter form -->
    <form method="get" action="/lektiehjælp">
        <input type="text" name="search" placeholder="Søg efter posts..." value="{{ search }}">
        
        <label for="sort">Sorter efter:</label>
        <select name="sort" id="sort">
            <option value="random" {% if sort_order == 'random' %}selected{% endif %}> Tilfældige</option>
            <option value="newest" {% if sort_order == 'newest' %}selected{% endif %}>Nyeste</option>
        </select>

        <label for="category">Kategori:</label>
        <select name="category" id="category">
            <option value="all" disabled>Alle kategorier</option>
            {% for cat in categories %}
                <p>{{cat}}</p>
                <option value="{{ cat.name }}">{{ cat.name }}</option>
            {% endfor %}
        </select>

        <button type="submit">Søg</button>
    </form>
    {% if session["user_id"] %}
        <a href="/lektiehjælp/writepost">Skriv et opslag</a>
    {% endif %}

    {% include "posts.html" %}
{% endblock %}

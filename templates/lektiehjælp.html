{% extends "layout.html" %}

{% block title %}Lektiehjælpsforum{% endblock %}

{% block body %}
    <h1>Lektiehjælpsforum</h1>

    <!-- Search and filter form -->
    <form method="GET" action="/lektiehjælp">
        <input type="text" name="search" placeholder="Søg efter posts..." value="{{ search }}">
        
        <label for="sort">Sorter efter:</label>
        <select name="sort" id="sort">
            <option value="random" {% if sort_order == 'random' %}selected{% endif %}> Tilfældige</option>
            <option value="newest" {% if sort_order == 'newest' %}selected{% endif %}>Nyeste</option>
        </select>

        <label for="category">Kategori:</label>
        <select name="category" id="category">
            <option value="all" {% if category == 'all' %}selected{% endif %}>Alle kategorier</option>
            {% for cat in categories %}
                <option value="{{ cat.name }}" {% if category == cat.name %}selected{% endif %}>{{ cat.name }}</option>
            {% endfor %}
        </select>

        <button type="submit">Søg</button>
    </form>

    {% include "posts.html" %}
{% endblock %}
